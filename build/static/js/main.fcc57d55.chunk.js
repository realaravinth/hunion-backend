(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{22:function(e,n,t){},24:function(e,n,t){e.exports=t(35)},35:function(e,n,t){"use strict";t.r(n);var a,l=t(0),r=t.n(l),c=t(13),o=t.n(c),s=t(3),i=t(1),u=t(9),p={GET_CHALLENGES:"http://localhost:8080/api/get-challenges",LOGIN:"http://localhost:8080/api/login",REGISTER:"/api/register",LOGOUT:"/api/logout",CHECK_RESPONSE:"http://localhost:8080/api/check-response",LEADERBOARD:"/api/leaderboard",GET_STATE:"http://localhost:8080/api/get-state"};!function(e){e[e.loggedOut=0]="loggedOut",e[e.loggedIn=1]="loggedIn",e[e.timerOver=2]="timerOver",e[e.tooEarly=3]="tooEarly",e[e.challengeReady=4]="challengeReady"}(a||(a={}));var m,b={value:a.loggedOut},d=Object(u.b)({name:"auth",initialState:b,reducers:{setLoggedIn:function(e){e.value=a.loggedIn},setLoggedOut:function(e){e.value=a.loggedOut},setTimeOver:function(e){e.value=a.timerOver},setTooEarly:function(e){e.value=a.tooEarly},setChallengeReady:function(e){e.value=a.challengeReady}}}),g=d.actions,h=g.setLoggedIn,f=g.setLoggedOut,E=g.setChallengeReady,v=(g.setTooEarly,g.setTimeOver,function(e){return e.authenticator.value}),O=(d.reducer,Object(u.b)({name:"startTime",initialState:{value:null},reducers:{set_start_time:function(e,n){e.value=n.payload}}})),y=O.actions.set_start_time,T=function(e){return e.startTimesetter.value},j=(O.reducer,t(8)),w=t.n(j),S=t(11),N=Object(u.b)({name:"challenge",initialState:{value:null},reducers:{addChallenge:function(e,n){e.value=n.payload},addAnswer:function(e,n){var t=e.value;null!==t&&(t[n.payload.id-1].challengeAnswer=n.payload.challengeAnswer,e.value=t)},setHasAnswered:function(e,n){var t=e.value;null!==t&&(t[n.payload].hasAnswered=!0,e.value=t)}}}),C=N.actions,k=C.addChallenge,I=C.setHasAnswered,A=C.addAnswer,L=function(e){return e.challenges.value},x=(N.reducer,function(){try{var e=localStorage.getItem("state");if(null==e)return;return JSON.parse(e)}catch(n){return}}()),R=Object(u.a)({reducer:{authenticator:d.reducer,startTimesetter:O.reducer,challenges:N.reducer},preloadedState:x}),_=function(){return Object(i.b)()},F=t(4),D=t(2),H=function(e){var n=e.initTimeinSeconds,t=e.initTimeinMinutes,a=Object(l.useState)(n),c=Object(F.a)(a,2),o=c[0],s=c[1],i=Object(l.useState)(t),u=Object(F.a)(i,2),p=u[0],m=u[1];Object(l.useEffect)((function(){var e=setTimeout((function(){return d()}),1e3);return function(){return clearTimeout(e)}}));var b=Object(D.g)(),d=function(){o<0&&b.push("/logout"),1===o&&0===p&&b.push("/logout"),0===o?(s(59),m(p-1)):s(o-1)};return r.a.createElement("div",null,G(p),":",G(o))},G=function(e){return e<10?"0"+e.toString():e.toString()},z=function(){var e=Object(i.c)(v),n=Object(i.c)(T),t=Object(D.g)();if(e!==a.challengeReady)return r.a.createElement("div",null);if(null===n)return console.error("can't mount timer,\n        startTime yet to be received from API. startTime: ".concat(n)),r.a.createElement("div",null);var l=n+1500-Math.floor(Date.now()/1e3),c=l%60;c<0&&t.push("/logout");var o=(l-c)/60;return r.a.createElement(H,{initTimeinMinutes:o,initTimeinSeconds:c})},B=function(){return r.a.createElement("div",{dangerouslySetInnerHTML:{__html:'<p class="ascii-art">\u2588\u2588\u2588\u2557&nbsp&nbsp&nbsp\u2588\u2588\u2557\u2588\u2588\u2557&nbsp&nbsp&nbsp\u2588\u2588\u2557\u2588\u2588\u2557&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2557&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557<br /> \u2588\u2588\u2588\u2588\u2557&nbsp&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2588\u2588\u2554\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d<br /> \u2588\u2588\u2554\u2588\u2588\u2557&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2588\u2588\u2588\u2557&nbsp&nbsp<br /> \u2588\u2588\u2551\u255a\u2588\u2588\u2557\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2554\u2550\u2550\u255d&nbsp&nbsp<br /> \u2588\u2588\u2551&nbsp\u255a\u2588\u2588\u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557&nbsp&nbsp&nbsp&nbsp\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2557&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp<br /> \u255a\u2550\u255d&nbsp&nbsp\u255a\u2550\u2550\u2550\u255d&nbsp\u255a\u2550\u2550\u2550\u2550\u2550\u255d&nbsp\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d&nbsp&nbsp&nbsp&nbsp&nbsp\u255a\u2550\u2550\u2550\u2550\u2550\u255d&nbsp&nbsp&nbsp\u255a\u2550\u255d&nbsp&nbsp&nbsp\u255a\u2550\u255d&nbsp&nbsp&nbsp&nbsp&nbsp<br />'}})},M=function(){return r.a.createElement("div",{className:"mainheader"},r.a.createElement(s.b,{to:"/"},r.a.createElement(B,null)),r.a.createElement("div",{className:"filler"}),r.a.createElement("div",{className:"timer"},r.a.createElement(z,null)))},J=function(){return r.a.createElement("li",null,r.a.createElement(s.c,{to:"/challenges"},"/challenges"))},U=function(){return r.a.createElement("li",null,r.a.createElement(s.c,{to:"/leaderboard"},"/leaderboard"))},P=function(){return r.a.createElement("li",null,r.a.createElement(s.c,{to:"/logout"},"/logout"))},W=function(){return r.a.createElement("li",null,r.a.createElement(s.c,{to:"/login"},"/login"))},q=function(){return Object(i.c)(v)===a.challengeReady?r.a.createElement("ul",{className:"navbar"},r.a.createElement(J,null),r.a.createElement(U,null),r.a.createElement(P,null)):r.a.createElement("ul",{className:"navbar"},r.a.createElement(W,null))},K=function(e){var n=e.children;return r.a.createElement("div",{className:"menuoptions"},n)};!function(e){e[e.big=0]="big",e[e.small=1]="small",e[e.mobile=2]="mobile",e[e.loading=3]="loading"}(m||(m={}));var $,Q=function(e){var n=e.children;return e.size===m.loading?r.a.createElement("div",{className:"menuouter menuouterloading"},n):r.a.createElement("div",{className:"menuouter"},n)},Z=function(e){var n=e.location;return Object(l.useEffect)((function(){!function(){var e=n+" | Null CTF";document.title=e}()})),r.a.createElement("div",null)},V=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"menubottomborder"}))},X=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"menutopborder"}))},Y=function(){return r.a.createElement("div",null,r.a.createElement(X,null),r.a.createElement(V,null))},ee=function(e){var n=e.title;return r.a.createElement("div",{className:"menuheader"},r.a.createElement("span",null,n),r.a.createElement(Y,null))},ne=function(e){var n=e.text;return r.a.createElement("div",{className:"menutoptext"},n)};!function(e){e[e.big=0]="big",e[e.small=1]="small",e[e.mobile=2]="mobile",e[e.loading=3]="loading"}($||($={}));var te,ae=function(e){var n=e.menuTitle,t=e.pageTitle,a=e.topText,l=e.size,c=e.children,o="menudialog";return l===$.big&&(o+=" menudialogbig"),l===$.mobile&&(o+=" menudialogmobile"),l===$.loading&&(o+=" menudialogloading"),r.a.createElement("div",{className:o},r.a.createElement(Q,{size:l},r.a.createElement(ee,{title:n}),r.a.createElement(ne,{text:a}),r.a.createElement(Z,{location:t}),c))},le=function(){return r.a.createElement(ae,{size:$.mobile,menuTitle:"Error",topText:"Mobile devices are not supported. We regret the inconvenience caused.",pageTitle:"Error"},r.a.createElement(K,null,r.a.createElement("p",null,"This CTF relies heavily on the functionality provided by browsers on desktop computers so please visit us from a desktop computer")))},re=function(){var e=Object(S.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(p.LOGIN,{method:"post",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ce=function(e){return!e.replace(/\s/g,"").length},oe=(t(22),function(e){var n=e.label,t=e.required,a=e.autoFocus,l=e.autoComplete,c=e.name,o=e.input_type,s=e.placeholder,i=e.value,u=e.onChange;return r.a.createElement("div",{className:"formGroup"},r.a.createElement("label",{className:"label"},n),r.a.createElement("input",{className:"textInput",required:t,autoFocus:a,autoComplete:l,name:c,type:o,placeholder:s,value:i,onChange:u}))}),se=function(e){var n=e.children,t=e.onClick;return r.a.createElement("div",{className:"btnSmallOuter"},r.a.createElement("div",{className:"btnSmall",onClick:t},n))},ie=function(e){var n=e.children,t=e.onClick;return r.a.createElement("div",{className:"btn",onClick:t},n)},ue=function(){var e=Object(l.useState)(""),n=Object(F.a)(e,2),t=n[0],c=n[1],o=_(),s=Object(i.c)(v);Object(D.g)();return s===a.loggedOut?r.a.createElement(ae,{size:$.small,menuTitle:"Log in",pageTitle:"Log in",topText:"Please Log in to continue"},r.a.createElement(K,null,r.a.createElement(oe,{label:"User ID: ",autoFocus:!0,autoComplete:"username",name:"userId",input_type:"text",placeholder:"User ID",value:t,onChange:function(e){return c(e.target.value)},required:!0})),r.a.createElement(ie,{onClick:function(e){(e.preventDefault(),ce(t))?alert("uesr ID cant be empty"):re({userID:t}).then((function(e){switch(e.status){case 200:e.json().then((function(e){return o(y(parseInt(e.startTime)))})),fetch("http://localhost:8080/api/get-challenges",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){o(k(e)),o(E())}));break;case 401:alert("invalid credentials");break;case 403:e.json().then((function(e){return o(y(parseInt(e.startTime)))})),alert("you are early");break;case 501:alert("Internal server error");break;default:console.log("Error while trying to login, server returned : ".concat(e.status))}})).catch((function(e){return console.log("Error occoured: ".concat(e))}))}},r.a.createElement("span",null,"L"),"og in")):r.a.createElement(D.a,{to:"/"})},pe=function(){var e=Object(i.c)(v),n=Object(l.useState)([{}]),t=Object(F.a)(n,2),c=t[0],o=t[1],s=Object(l.useState)(""),u=Object(F.a)(s,2),p=(u[0],u[1]),m=Object(l.useState)(!1),b=Object(F.a)(m,2),d=b[0];b[1];Object(l.useEffect)((function(){h()}));var g,h=function(){fetch("http://localhost:8080/api/leaderboard",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){var n=[{}];e.topTwenty.map((function(e){n.push({name:e.name,score:e.score})})),o(n),p(e.you.score)}))};if(!1!==d){var f=0;g=c.map((function(e){f+=1;return r.a.createElement("li",{key:f,className:"ctitle"}," ",e.name,e.score)}))}else g=r.a.createElement("div",null);return e===a.challengeReady?r.a.createElement(ae,{size:$.big,menuTitle:"Leaderboard",pageTitle:"Leaderboard",topText:"Top 10 scores: "},r.a.createElement(K,null,r.a.createElement("p",null," ",g," "))):r.a.createElement(D.a,{to:"/"})},me=new RegExp("^[0-1]+$");!function(e){e[e.noHint=0]="noHint",e[e.showFlag=1]="showFlag",e[e.showBinToDecHint=2]="showBinToDecHint"}(te||(te={}));var be=function(e){var n=e.hintState,t=e.onClick;return n===te.showFlag?r.a.createElement("p",null,"Computer: 000111000111011110100100110110100001"):n===te.noHint?r.a.createElement(se,{onClick:t},"Aks computer nicely"):r.a.createElement("p",null,"Well, the flag that you have entered might be correct but there's no way of verifying it. We, unlike computers, only speak decimal.So can you please present the flag in a way that we understand?"," ")},de=function(e){var n,t=e.id,a=e.body,c=_(),o=Object(l.useState)(""),s=Object(F.a)(o,2),u=(s[0],s[1],Object(D.g)()),m=Object(l.useState)(te.noHint),b=Object(F.a)(m,2),d=b[0],g=b[1],h=Object(i.c)(L);n=1===t?r.a.createElement("div",null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}}),r.a.createElement(be,{hintState:d,onClick:function(e){e.preventDefault(),d===te.noHint&&g(te.showFlag)}})):r.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}});var f=function(e){return null!==h&&null!==h[e-1].challengeAnswer?h[e-1].challengeAnswer:" "};return r.a.createElement("div",{className:"challengeBody"},n,r.a.createElement("div",{className:"btnSmallOuter"},r.a.createElement(oe,{label:"Flag:",autoFocus:!0,name:"userAnswer",input_type:"text",autoComplete:"flag",placeholder:"Flag",value:f(t),onChange:function(e){var n={id:t,challengeAnswer:e.target.value};c(A(n))},required:!0}),r.a.createElement(ie,{onClick:function(e){(e.preventDefault(),ce(f(t)))?alert("can't be empty"):me.test(f(t))?1===t&&me.test(f(t))&&g(te.showBinToDecHint):function(e){return fetch(p.CHECK_RESPONSE,{method:"post",credentials:"include",headers:{"Content-type":"application/json; charset=UTF-8"},body:e})}(JSON.stringify({id:t,userAnswer:f(t)})).then((function(e){200===e.status?e.json().then((function(e){!0===e.isCorrect?c(I(t)):alert("wrong answer")})):403===e.status&&e.json().then((function(e){alert(e.error),u.push("/logout")}))}))}},"submit")))},ge=function(e){var n,t=e.activeID,a=e.onClick,l=Object(i.c)(L);return n=null!==l?l.map((function(e){var n="ctitle";!0===e.hasAnswered&&(n+=" correct");var l=" ";return e.id===t&&(l="active"),r.a.createElement("li",{key:e.id,id:l,className:n,onClick:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){return a(e.id)}))}," ",e.challengeTitle," (",e.score,")")})):r.a.createElement("div",null),r.a.createElement("ul",{id:"challenges"}," ",n," ")},he=function(e){var n=e.children;return r.a.createElement("div",{className:"contentcolumned"},n)},fe=function(e){var n=e.children;return r.a.createElement("div",{className:"menuoptions menusidebar"},n)},Ee=function(e){var n=e.children;return r.a.createElement("div",{className:"menusidebarbody menuoptions"},n)},ve=function(){_();var e,n=Object(i.c)(L),t=Object(i.c)(v),c=Object(l.useState)(1),o=Object(F.a)(c,2),s=o[0],u=o[1];e=null!==n?n[0].challengeBody:"<p> Loading...</p>";var p=Object(l.useState)(e),m=Object(F.a)(p,2),b=m[0],d=m[1];console.log(b);return t===a.challengeReady?r.a.createElement(ae,{size:$.big,menuTitle:"Challenges",topText:"Solve these challges to find flags. Flags will be in the form nCTF{secret-goes-in-here}",pageTitle:"Challenges"},r.a.createElement(he,null,r.a.createElement(fe,null,r.a.createElement(ge,{onClick:function(e){u(e),function(e){null!==n&&n.forEach((function(n){n.id===e&&d(n.challengeBody)}))}(e)},activeID:s})),r.a.createElement(Ee,null,r.a.createElement(de,{body:b,id:s})))):r.a.createElement(D.a,{to:"/"})},Oe=function(){var e=Object(i.c)(v);switch(localStorage.setItem("kladmdf;lkdmkfmslkdmkl;smdkfmkfsd","nCTF{zlZ6QPh97sg16ds856RK0DIK1waNJwy}"),e){case a.loggedIn:return r.a.createElement(D.a,{to:"/loading"});case a.challengeReady:return r.a.createElement(D.a,{to:"/challenges"});case a.loggedOut:return r.a.createElement(D.a,{to:"/login"});case a.timerOver:case a.tooEarly:return r.a.createElement(D.a,{to:"/logout"})}},ye=function(){return fetch(p.LOGOUT,{credentials:"include"}).then((function(e){return e.json()}))},Te=function(){var e=Object(i.c)(v),n=_();return e===a.challengeReady&&(n(f()),ye()),r.a.createElement(D.a,{to:"/login"})},je=function(e){e.completed;for(var n={height:"100%",width:"10%",border:"0.1px solid",borderColor:"#fff",textAlign:"right"},t=[],a=0;a<30;a++)t.push(a);var l=t.map((function(e){return r.a.createElement("div",{style:n})}));return r.a.createElement("div",{style:{height:13,width:"100%",display:"flex"}},l)},we=function(){return r.a.createElement(ae,{size:$.loading,menuTitle:"Loading",topText:"",pageTitle:"Loading"},r.a.createElement(je,{completed:100}))},Se=function(){return r.a.createElement(D.d,null,r.a.createElement(D.b,{component:pe,path:"/leaderboard"}),r.a.createElement(D.b,{component:ve,path:"/challenges"}),r.a.createElement(D.b,{component:ue,path:"/login"}),r.a.createElement(D.b,{component:Te,path:"/logout"}),r.a.createElement(D.b,{component:we,exact:!0,path:"/loading"}),r.a.createElement(D.b,{component:Oe,exact:!0,path:"/"}))},Ne=function(){var e=_(),n=Object(i.c)(L);Object(i.c)(v);return null===n&&fetch("http://localhost:8080/api/get-challenges",{credentials:"include"}).then((function(e){return e.json()})).then((function(n){return e(k(n))})),window.matchMedia("(max-width: 1000px)").matches?r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement(le,null))):r.a.createElement("div",{className:"App"},r.a.createElement(q,null),r.a.createElement(M,null),r.a.createElement("div",{className:"container"},r.a.createElement(Se,null)),"// End of container div")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));R.subscribe((function(){return function(e){try{var n=JSON.stringify(e);localStorage.setItem("state",n)}catch(t){console.log("error from saveState: ".concat(t))}}(R.getState())})),R.dispatch((function(e){return fetch(p.GET_STATE,{method:"get",credentials:"include"}).then((function(e){return e.json()})).then((function(n){200===n.status&&e(h())}))})),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,null,r.a.createElement(i.a,{store:R},r.a.createElement(Ne,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.fcc57d55.chunk.js.map