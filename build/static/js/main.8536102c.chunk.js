(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{22:function(e,n,t){},24:function(e,n,t){e.exports=t(35)},35:function(e,n,t){"use strict";t.r(n);var a,r=t(0),l=t.n(r),c=t(13),o=t.n(c),s=t(3),i=t(1),u=t(9),p={GET_CHALLENGES:"http://localhost:8080/api/get-challenges",LOGIN:"http://localhost:8080/api/login",REGISTER:"/api/register",LOGOUT:"/api/logout",CHECK_RESPONSE:"http://localhost:8080/api/check-response",LEADERBOARD:"/api/leaderboard",GET_STATE:"http://localhost:8080/api/get-state"};!function(e){e[e.loggedOut=0]="loggedOut",e[e.loggedIn=1]="loggedIn",e[e.timerOver=2]="timerOver",e[e.tooEarly=3]="tooEarly",e[e.challengeReady=4]="challengeReady"}(a||(a={}));var m,b={value:a.loggedOut},d=Object(u.b)({name:"auth",initialState:b,reducers:{setLoggedIn:function(e){e.value=a.loggedIn},setLoggedOut:function(e){e.value=a.loggedOut},setTimeOver:function(e){e.value=a.timerOver},setTooEarly:function(e){e.value=a.tooEarly},setChallengeReady:function(e){e.value=a.challengeReady}}}),g=d.actions,h=g.setLoggedIn,f=g.setLoggedOut,E=g.setChallengeReady,v=(g.setTooEarly,g.setTimeOver,function(e){return e.authenticator.value}),y=(d.reducer,Object(u.b)({name:"startTime",initialState:{value:null},reducers:{set_start_time:function(e,n){e.value=n.payload}}})),O=y.actions.set_start_time,T=function(e){return e.startTimesetter.value},j=(y.reducer,t(8)),w=t.n(j),S=t(11),C=Object(u.b)({name:"challenge",initialState:{value:null},reducers:{addChallenge:function(e,n){e.value=n.payload},addAnswer:function(e,n){var t=e.value;null!==t&&(t[n.payload.id-1].challengeAnswer=n.payload.challengeAnswer,e.value=t)},setHasAnswered:function(e,n){var t=e.value;null!==t&&(t[n.payload].hasAnswered=!0,e.value=t)}}}),N=C.actions,k=N.addChallenge,I=N.setHasAnswered,A=N.addAnswer,L=function(e){return e.challenges.value},x=(C.reducer,function(){try{var e=localStorage.getItem("state");if(null==e)return;return JSON.parse(e)}catch(n){return}}()),R=Object(u.a)({reducer:{authenticator:d.reducer,startTimesetter:y.reducer,challenges:C.reducer},preloadedState:x}),_=function(){return Object(i.b)()},F=t(7),H=t(2),D=function(e){var n=e.initTimeinSeconds,t=e.initTimeinMinutes,a=Object(r.useState)(n),c=Object(F.a)(a,2),o=c[0],s=c[1],i=Object(r.useState)(t),u=Object(F.a)(i,2),p=u[0],m=u[1];Object(r.useEffect)((function(){var e=setTimeout((function(){return d()}),1e3);return function(){return clearTimeout(e)}}));var b=Object(H.g)(),d=function(){o<0&&b.push("/logout"),1===o&&0===p&&b.push("/logout"),0===o?(s(59),m(p-1)):s(o-1)};return l.a.createElement("div",null,G(p),":",G(o))},G=function(e){return e<10?"0"+e.toString():e.toString()},B=function(){var e=Object(i.c)(v),n=Object(i.c)(T),t=Object(H.g)();if(e!==a.challengeReady)return l.a.createElement("div",null);if(null===n)return console.error("can't mount timer,\n        startTime yet to be received from API. startTime: ".concat(n)),l.a.createElement("div",null);var r=n+1500-Math.floor(Date.now()/1e3),c=r%60;c<0&&t.push("/logout");var o=(r-c)/60;return l.a.createElement(D,{initTimeinMinutes:o,initTimeinSeconds:c})},M=function(){return l.a.createElement("div",{dangerouslySetInnerHTML:{__html:'<p class="ascii-art">\u2588\u2588\u2588\u2557&nbsp&nbsp&nbsp\u2588\u2588\u2557\u2588\u2588\u2557&nbsp&nbsp&nbsp\u2588\u2588\u2557\u2588\u2588\u2557&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2557&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557<br /> \u2588\u2588\u2588\u2588\u2557&nbsp&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2588\u2588\u2554\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d<br /> \u2588\u2588\u2554\u2588\u2588\u2557&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2588\u2588\u2588\u2557&nbsp&nbsp<br /> \u2588\u2588\u2551\u255a\u2588\u2588\u2557\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2554\u2550\u2550\u255d&nbsp&nbsp<br /> \u2588\u2588\u2551&nbsp\u255a\u2588\u2588\u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557&nbsp&nbsp&nbsp&nbsp\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2557&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp<br /> \u255a\u2550\u255d&nbsp&nbsp\u255a\u2550\u2550\u2550\u255d&nbsp\u255a\u2550\u2550\u2550\u2550\u2550\u255d&nbsp\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d&nbsp&nbsp&nbsp&nbsp&nbsp\u255a\u2550\u2550\u2550\u2550\u2550\u255d&nbsp&nbsp&nbsp\u255a\u2550\u255d&nbsp&nbsp&nbsp\u255a\u2550\u255d&nbsp&nbsp&nbsp&nbsp&nbsp<br />'}})},z=function(){return l.a.createElement("div",{className:"mainheader"},l.a.createElement(s.b,{to:"/"},l.a.createElement(M,null)),l.a.createElement("div",{className:"filler"}),l.a.createElement("div",{className:"timer"},l.a.createElement(B,null)))},J=function(){return l.a.createElement("li",null,l.a.createElement(s.c,{to:"/challenges"},"/challenges"))},U=function(){return l.a.createElement("li",null,l.a.createElement(s.c,{to:"/leaderboard"},"/leaderboard"))},W=function(){return l.a.createElement("li",null,l.a.createElement(s.c,{to:"/logout"},"/logout"))},q=function(){return l.a.createElement("li",null,l.a.createElement(s.c,{to:"/login"},"/login"))},P=function(){return Object(i.c)(v)===a.challengeReady?l.a.createElement("ul",{className:"navbar"},l.a.createElement(J,null),l.a.createElement(U,null),l.a.createElement(W,null)):l.a.createElement("ul",{className:"navbar"},l.a.createElement(q,null))},K=function(e){var n=e.children;return l.a.createElement("div",{className:"menuoptions"},n)};!function(e){e[e.big=0]="big",e[e.small=1]="small",e[e.mobile=2]="mobile",e[e.loading=3]="loading"}(m||(m={}));var $,Q=function(e){var n=e.children;return e.size===m.loading?l.a.createElement("div",{className:"menuouter menuouterloading"},n):l.a.createElement("div",{className:"menuouter"},n)},V=function(e){var n=e.location;return Object(r.useEffect)((function(){!function(){var e=n+" | Null CTF";document.title=e}()})),l.a.createElement("div",null)},X=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"menubottomborder"}))},Y=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"menutopborder"}))},Z=function(){return l.a.createElement("div",null,l.a.createElement(Y,null),l.a.createElement(X,null))},ee=function(e){var n=e.title;return l.a.createElement("div",{className:"menuheader"},l.a.createElement("span",null,n),l.a.createElement(Z,null))},ne=function(e){var n=e.text;return l.a.createElement("div",{className:"menutoptext"},n)};!function(e){e[e.big=0]="big",e[e.small=1]="small",e[e.mobile=2]="mobile",e[e.loading=3]="loading"}($||($={}));var te,ae=function(e){var n=e.menuTitle,t=e.pageTitle,a=e.topText,r=e.size,c=e.children,o="menudialog";return r===$.big&&(o+=" menudialogbig"),r===$.mobile&&(o+=" menudialogmobile"),r===$.loading&&(o+=" menudialogloading"),l.a.createElement("div",{className:o},l.a.createElement(Q,{size:r},l.a.createElement(ee,{title:n}),l.a.createElement(ne,{text:a}),l.a.createElement(V,{location:t}),c))},re=function(){return l.a.createElement(ae,{size:$.mobile,menuTitle:"Error",topText:"Mobile devices are not supported. We regret the inconvenience caused.",pageTitle:"Error"},l.a.createElement(K,null,l.a.createElement("p",null,"This CTF relies heavily on the functionality provided by browsers on desktop computers so please visit us from a desktop computer")))},le=function(){var e=Object(S.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(p.LOGIN,{method:"post",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ce=function(e){return!e.replace(/\s/g,"").length},oe=(t(22),function(e){var n=e.label,t=e.required,a=e.autoFocus,r=e.autoComplete,c=e.name,o=e.input_type,s=e.placeholder,i=e.value,u=e.onChange;return l.a.createElement("div",{className:"formGroup"},l.a.createElement("label",{className:"label"},n),l.a.createElement("input",{className:"textInput",required:t,autoFocus:a,autoComplete:r,name:c,type:o,placeholder:s,value:i,onChange:u}))}),se=function(e){var n=e.children,t=e.onClick;return l.a.createElement("div",{className:"btnSmallOuter"},l.a.createElement("div",{className:"btnSmall",onClick:t},n))},ie=function(e){var n=e.children,t=e.onClick;return l.a.createElement("div",{className:"btn",onClick:t},n)},ue=function(){var e=Object(r.useState)(""),n=Object(F.a)(e,2),t=n[0],c=n[1],o=_(),s=Object(i.c)(v);Object(H.g)();return s===a.loggedOut?l.a.createElement(ae,{size:$.small,menuTitle:"Log in",pageTitle:"Log in",topText:"Please Log in to continue"},l.a.createElement(K,null,l.a.createElement(oe,{label:"User ID: ",autoFocus:!0,autoComplete:"username",name:"userId",input_type:"text",placeholder:"User ID",value:t,onChange:function(e){return c(e.target.value)},required:!0})),l.a.createElement(ie,{onClick:function(e){(e.preventDefault(),ce(t))?alert("uesr ID cant be empty"):le({userID:t}).then((function(e){switch(e.status){case 200:e.json().then((function(e){return o(O(parseInt(e.startTime)))})),fetch("http://localhost:8080/api/get-challenges",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){return o(k(e))})),o(E());break;case 401:alert("invalid credentials");break;case 403:e.json().then((function(e){return o(O(parseInt(e.startTime)))})),alert("you are early");break;case 501:alert("Internal server error");break;default:console.log("Error while trying to login, server returned : ".concat(e.status))}})).catch((function(e){return console.log("Error occoured: ".concat(e))}))}},l.a.createElement("span",null,"L"),"og in")):l.a.createElement(H.a,{to:"/"})},pe=function(){return Object(i.c)(v)===a.challengeReady?l.a.createElement(ae,{size:$.big,menuTitle:"Leaderboard",pageTitle:"Leaderboard",topText:"Top 10 scores: "},l.a.createElement(K,null,l.a.createElement("p",null," Scorecard goes here "))):l.a.createElement(H.a,{to:"/"})},me=new RegExp("^[0-1]+$");!function(e){e[e.noHint=0]="noHint",e[e.showFlag=1]="showFlag",e[e.showBinToDecHint=2]="showBinToDecHint"}(te||(te={}));var be=function(e){var n=e.hintState,t=e.onClick;return n===te.showFlag?l.a.createElement("p",null,"Computer: 000111000111011110100100110110100001"):n===te.noHint?l.a.createElement(se,{onClick:t},"Aks computer nicely"):l.a.createElement("p",null,"Well, the flag that you have entered might be correct but there's no way of verifying it. We, unlike computers, only speak decimal.So can you please present the flag in a way that we understand?"," ")},de=function(e){var n,t=e.id,a=e.body,c=_(),o=Object(r.useState)(""),s=Object(F.a)(o,2),u=(s[0],s[1],Object(H.g)()),m=Object(r.useState)(te.noHint),b=Object(F.a)(m,2),d=b[0],g=b[1],h=Object(i.c)(L);n=1===t?l.a.createElement("div",null,l.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}}),l.a.createElement(be,{hintState:d,onClick:function(e){e.preventDefault(),d===te.noHint&&g(te.showFlag)}})):l.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}});var f=function(e){return null!==h&&null!==h[e-1].challengeAnswer?h[e-1].challengeAnswer:" "};return l.a.createElement("div",{className:"challengeBody"},n,l.a.createElement("div",{className:"btnSmallOuter"},l.a.createElement(oe,{label:"Flag:",autoFocus:!0,name:"userAnswer",input_type:"text",autoComplete:"flag",placeholder:"Flag",value:f(t),onChange:function(e){var n={id:t,challengeAnswer:e.target.value};c(A(n))},required:!0}),l.a.createElement(ie,{onClick:function(e){(e.preventDefault(),ce(f(t)))?alert("can't be empty"):me.test(f(t))?1===t&&me.test(f(t))&&g(te.showBinToDecHint):function(e){return fetch(p.CHECK_RESPONSE,{method:"post",credentials:"include",headers:{"Content-type":"application/json; charset=UTF-8"},body:e})}(JSON.stringify({id:t,userAnswer:f(t)})).then((function(e){200===e.status?e.json().then((function(e){!0===e.isCorrect?c(I(t)):alert("wrong answer")})):403===e.status&&e.json().then((function(e){alert(e.error),u.push("/logout")}))}))}},"submit")))},ge=function(e){var n,t=e.activeID,a=e.onClick,r=Object(i.c)(L);return n=null!==r?r.map((function(e){var n="ctitle";!0===e.hasAnswered&&(n+=" correct");var r=" ";return e.id===t&&(r="active"),l.a.createElement("li",{key:e.id,id:r,className:n,onClick:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){return a(e.id)}))}," ",e.challengeTitle," (",e.score,")")})):l.a.createElement("div",null),l.a.createElement("ul",{id:"challenges"}," ",n," ")},he=function(e){var n=e.children;return l.a.createElement("div",{className:"contentcolumned"},n)},fe=function(e){var n=e.children;return l.a.createElement("div",{className:"menuoptions menusidebar"},n)},Ee=function(e){var n=e.children;return l.a.createElement("div",{className:"menusidebarbody menuoptions"},n)},ve=function(){_();var e,n=Object(i.c)(L),t=Object(i.c)(v),c=Object(r.useState)(1),o=Object(F.a)(c,2),s=o[0],u=o[1];e=null!==n?n[0].challengeBody:"<p> Loading...</p>";var p=Object(r.useState)(e),m=Object(F.a)(p,2),b=m[0],d=m[1];console.log(b);return t===a.challengeReady?l.a.createElement(ae,{size:$.big,menuTitle:"Challenges",topText:"Solve these challges to find flags. Flags will be in the form nCTF{secret-goes-in-here}",pageTitle:"Challenges"},l.a.createElement(he,null,l.a.createElement(fe,null,l.a.createElement(ge,{onClick:function(e){u(e),function(e){null!==n&&n.forEach((function(n){n.id===e&&d(n.challengeBody)}))}(e)},activeID:s})),l.a.createElement(Ee,null,l.a.createElement(de,{body:b,id:s})))):l.a.createElement(H.a,{to:"/"})},ye=function(){switch(Object(i.c)(v)){case a.loggedIn:return l.a.createElement(H.a,{to:"/loading"});case a.challengeReady:return l.a.createElement(H.a,{to:"/challenges"});case a.loggedOut:return l.a.createElement(H.a,{to:"/login"});case a.timerOver:case a.tooEarly:return l.a.createElement(H.a,{to:"/logout"})}},Oe=function(){return fetch(p.LOGOUT,{credentials:"include"}).then((function(e){return e.json()}))},Te=function(){var e=Object(i.c)(v),n=_();return e===a.challengeReady&&(n(f()),Oe()),l.a.createElement(H.a,{to:"/login"})},je=function(e){e.completed;for(var n={height:"100%",width:"10%",border:"0.1px solid",borderColor:"#fff",textAlign:"right"},t=[],a=0;a<30;a++)t.push(a);var r=t.map((function(e){return l.a.createElement("div",{style:n})}));return l.a.createElement("div",{style:{height:13,width:"100%",display:"flex"}},r)},we=function(){return l.a.createElement(ae,{size:$.loading,menuTitle:"Loading",topText:"",pageTitle:"Loading"},l.a.createElement(je,{completed:100}))},Se=function(){return l.a.createElement(H.d,null,l.a.createElement(H.b,{component:pe,path:"/leaderboard"}),l.a.createElement(H.b,{component:ve,path:"/challenges"}),l.a.createElement(H.b,{component:ue,path:"/login"}),l.a.createElement(H.b,{component:Te,path:"/logout"}),l.a.createElement(H.b,{component:we,exact:!0,path:"/loading"}),l.a.createElement(H.b,{component:ye,exact:!0,path:"/"}))},Ce=function(){var e=_(),n=Object(i.c)(L);Object(i.c)(v);return null===n&&fetch("http://localhost:8080/api/get-challenges",{credentials:"include"}).then((function(e){return e.json()})).then((function(n){return e(k(n))})),window.matchMedia("(max-width: 1000px)").matches?l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"container"},l.a.createElement(re,null))):l.a.createElement("div",{className:"App"},l.a.createElement(P,null),l.a.createElement(z,null),l.a.createElement("div",{className:"container"},l.a.createElement(Se,null)),"// End of container div")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));R.subscribe((function(){return function(e){try{var n=JSON.stringify(e);localStorage.setItem("state",n)}catch(t){console.log("error from saveState: ".concat(t))}}(R.getState())})),R.dispatch((function(e){return fetch(p.GET_STATE,{method:"get",credentials:"include"}).then((function(e){return e.json()})).then((function(n){200===n.status&&e(h())}))})),o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.a,null,l.a.createElement(i.a,{store:R},l.a.createElement(Ce,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.8536102c.chunk.js.map