(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{22:function(e,n,t){},24:function(e,n,t){e.exports=t(35)},35:function(e,n,t){"use strict";t.r(n);var a,r=t(0),l=t.n(r),c=t(13),o=t.n(c),s=t(3),i=t(1),u=t(9),p={GET_CHALLENGES:"/api/get-challenges",LOGIN:"/api/login",REGISTER:"/api/register",LOGOUT:"/api/logout",CHECK_RESPONSE:"/api/check-response",LEADERBOARD:"/api/leaderboard",GET_STATE:"/api/get-state"};!function(e){e[e.loggedOut=0]="loggedOut",e[e.loggedIn=1]="loggedIn",e[e.timerOver=2]="timerOver",e[e.tooEarly=3]="tooEarly",e[e.challengeReady=4]="challengeReady"}(a||(a={}));var m,b={value:a.loggedOut},d=Object(u.b)({name:"auth",initialState:b,reducers:{setLoggedIn:function(e){e.value=a.loggedIn},setLoggedOut:function(e){e.value=a.loggedOut},setTimeOver:function(e){e.value=a.timerOver},setTooEarly:function(e){e.value=a.tooEarly},setChallengeReady:function(e){e.value=a.challengeReady}}}),g=d.actions,h=g.setLoggedIn,f=g.setLoggedOut,E=g.setChallengeReady,v=(g.setTooEarly,g.setTimeOver,function(e){return e.authenticator.value}),y=(d.reducer,Object(u.b)({name:"startTime",initialState:{value:null},reducers:{set_start_time:function(e,n){e.value=n.payload}}})),O=y.actions.set_start_time,T=function(e){return e.startTimesetter.value},w=(y.reducer,t(8)),j=t.n(w),S=t(11),C=Object(u.b)({name:"challenge",initialState:{value:null},reducers:{addChallenge:function(e,n){e.value=n.payload},addAnswer:function(e,n){var t=e.value;null!==t&&(t[n.payload.id-1].challengeAnswer=n.payload.challengeAnswer,e.value=t)},setHasAnswered:function(e,n){var t=e.value;null!==t&&(t[n.payload].hasAnswered=!0,e.value=t)}}}),N=C.actions,k=N.addChallenge,I=N.setHasAnswered,A=N.addAnswer,x=function(e){return e.challenges.value},L=(C.reducer,function(){try{var e=localStorage.getItem("state");if(null==e)return;return JSON.parse(e)}catch(n){return}}()),R=Object(u.a)({reducer:{authenticator:d.reducer,startTimesetter:y.reducer,challenges:C.reducer},preloadedState:L}),_=function(){return Object(i.b)()},F=t(7),D=t(2),H=function(e){var n=e.initTimeinSeconds,t=e.initTimeinMinutes,a=Object(r.useState)(n),c=Object(F.a)(a,2),o=c[0],s=c[1],i=Object(r.useState)(t),u=Object(F.a)(i,2),p=u[0],m=u[1];Object(r.useEffect)((function(){var e=setTimeout((function(){return d()}),1e3);return function(){return clearTimeout(e)}}));var b=Object(D.g)(),d=function(){o<0&&b.push("/logout"),1===o&&0===p&&b.push("/logout"),0===o?(s(59),m(p-1)):s(o-1)};return l.a.createElement("div",null,G(p),":",G(o))},G=function(e){return e<10?"0"+e.toString():e.toString()},B=function(){var e=Object(i.c)(v),n=Object(i.c)(T),t=Object(D.g)();if(e!==a.challengeReady)return l.a.createElement("div",null);if(null===n)return console.error("can't mount timer,\n        startTime yet to be received from API. startTime: ".concat(n)),l.a.createElement("div",null);var r=n+1500-Math.floor(Date.now()/1e3),c=r%60;c<0&&t.push("/logout");var o=(r-c)/60;return l.a.createElement(H,{initTimeinMinutes:o,initTimeinSeconds:c})},M=function(){return l.a.createElement("div",{dangerouslySetInnerHTML:{__html:'<p class="ascii-art">\u2588\u2588\u2588\u2557&nbsp&nbsp&nbsp\u2588\u2588\u2557\u2588\u2588\u2557&nbsp&nbsp&nbsp\u2588\u2588\u2557\u2588\u2588\u2557&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2557&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557<br /> \u2588\u2588\u2588\u2588\u2557&nbsp&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2588\u2588\u2554\u2550\u2550\u255d\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255d<br /> \u2588\u2588\u2554\u2588\u2588\u2557&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2588\u2588\u2588\u2557&nbsp&nbsp<br /> \u2588\u2588\u2551\u255a\u2588\u2588\u2557\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2551\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2554\u2550\u2550\u255d&nbsp&nbsp<br /> \u2588\u2588\u2551&nbsp\u255a\u2588\u2588\u2588\u2588\u2551\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255d\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557&nbsp&nbsp&nbsp&nbsp\u255a\u2588\u2588\u2588\u2588\u2588\u2588\u2557&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp\u2588\u2588\u2551&nbsp&nbsp&nbsp&nbsp&nbsp<br /> \u255a\u2550\u255d&nbsp&nbsp\u255a\u2550\u2550\u2550\u255d&nbsp\u255a\u2550\u2550\u2550\u2550\u2550\u255d&nbsp\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u255d&nbsp&nbsp&nbsp&nbsp&nbsp\u255a\u2550\u2550\u2550\u2550\u2550\u255d&nbsp&nbsp&nbsp\u255a\u2550\u255d&nbsp&nbsp&nbsp\u255a\u2550\u255d&nbsp&nbsp&nbsp&nbsp&nbsp<br />'}})},z=function(){return l.a.createElement("div",{className:"mainheader"},l.a.createElement(s.b,{to:"/"},l.a.createElement(M,null)),l.a.createElement("div",{className:"filler"}),l.a.createElement("div",{className:"timer"},l.a.createElement(B,null)))},J=function(){return l.a.createElement("li",null,l.a.createElement(s.c,{to:"/challenges"},"/challenges"))},U=function(){return l.a.createElement("li",null,l.a.createElement(s.c,{to:"/logout"},"/logout"))},P=function(){return l.a.createElement("li",null,l.a.createElement(s.c,{to:"/login"},"/login"))},W=function(){return Object(i.c)(v)===a.challengeReady?l.a.createElement("ul",{className:"navbar"},l.a.createElement(J,null),l.a.createElement(U,null)):l.a.createElement("ul",{className:"navbar"},l.a.createElement(P,null))},q=function(e){var n=e.children;return l.a.createElement("div",{className:"menuoptions"},n)};!function(e){e[e.big=0]="big",e[e.small=1]="small",e[e.mobile=2]="mobile",e[e.loading=3]="loading"}(m||(m={}));var K,$=function(e){var n=e.children;return e.size===m.loading?l.a.createElement("div",{className:"menuouter menuouterloading"},n):l.a.createElement("div",{className:"menuouter"},n)},Q=function(e){var n=e.location;return Object(r.useEffect)((function(){!function(){var e=n+" | Null CTF";document.title=e}()})),l.a.createElement("div",null)},Z=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"menubottomborder"}))},V=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"menutopborder"}))},X=function(){return l.a.createElement("div",null,l.a.createElement(V,null),l.a.createElement(Z,null))},Y=function(e){var n=e.title;return l.a.createElement("div",{className:"menuheader"},l.a.createElement("span",null,n),l.a.createElement(X,null))},ee=function(e){var n=e.text;return l.a.createElement("div",{className:"menutoptext"},n)};!function(e){e[e.big=0]="big",e[e.small=1]="small",e[e.mobile=2]="mobile",e[e.loading=3]="loading"}(K||(K={}));var ne,te=function(e){var n=e.menuTitle,t=e.pageTitle,a=e.topText,r=e.size,c=e.children,o="menudialog";return r===K.big&&(o+=" menudialogbig"),r===K.mobile&&(o+=" menudialogmobile"),r===K.loading&&(o+=" menudialogloading"),l.a.createElement("div",{className:o},l.a.createElement($,{size:r},l.a.createElement(Y,{title:n}),l.a.createElement(ee,{text:a}),l.a.createElement(Q,{location:t}),c))},ae=function(){return l.a.createElement(te,{size:K.mobile,menuTitle:"Error",topText:"Mobile devices are not supported. We regret the inconvenience caused.",pageTitle:"Error"},l.a.createElement(q,null,l.a.createElement("p",null,"This CTF relies heavily on the functionality provided by browsers on desktop computers so please visit us from a desktop computer")))},re=function(){var e=Object(S.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(p.LOGIN,{method:"post",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(n)}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),le=function(e){return!e.replace(/\s/g,"").length},ce=(t(22),function(e){var n=e.label,t=e.required,a=e.autoFocus,r=e.autoComplete,c=e.name,o=e.input_type,s=e.placeholder,i=e.value,u=e.onChange;return l.a.createElement("div",{className:"formGroup"},l.a.createElement("label",{className:"label"},n),l.a.createElement("input",{className:"textInput",required:t,autoFocus:a,autoComplete:r,name:c,type:o,placeholder:s,value:i,onChange:u}))}),oe=function(e){var n=e.children,t=e.onClick;return l.a.createElement("div",{className:"btnSmallOuter"},l.a.createElement("div",{className:"btnSmall",onClick:t},n))},se=function(e){var n=e.children,t=e.onClick;return l.a.createElement("div",{className:"btn",onClick:t},n)},ie=function(){var e=Object(r.useState)(""),n=Object(F.a)(e,2),t=n[0],c=n[1],o=_(),s=Object(i.c)(v);Object(D.g)();return s===a.loggedOut?l.a.createElement(te,{size:K.small,menuTitle:"Log in",pageTitle:"Log in",topText:"Please Log in to continue"},l.a.createElement(q,null,l.a.createElement(ce,{label:"User ID: ",autoFocus:!0,autoComplete:"username",name:"userId",input_type:"text",placeholder:"User ID",value:t,onChange:function(e){return c(e.target.value)},required:!0})),l.a.createElement(se,{onClick:function(e){(e.preventDefault(),le(t))?alert("uesr ID cant be empty"):re({userID:t}).then((function(e){switch(e.status){case 200:e.json().then((function(e){return o(O(parseInt(e.startTime)))})),fetch("/api/get-challenges",{credentials:"include"}).then((function(e){return e.json()})).then((function(e){o(k(e)),o(E())}));break;case 401:alert("invalid credentials");break;case 403:e.json().then((function(e){return o(O(parseInt(e.startTime)))})),alert("you are early");break;case 501:alert("Internal server error");break;default:console.log("Error while trying to login, server returned : ".concat(e.status))}})).catch((function(e){return console.log("Error occoured: ".concat(e))}))}},l.a.createElement("span",null,"L"),"og in")):l.a.createElement(D.a,{to:"/"})},ue=new RegExp("^[0-1]+$");!function(e){e[e.noHint=0]="noHint",e[e.showFlag=1]="showFlag",e[e.showBinToDecHint=2]="showBinToDecHint"}(ne||(ne={}));var pe=function(e){var n=e.hintState,t=e.onClick;return n===ne.showFlag?l.a.createElement("p",null,"Computer: 000111000111011110100100110110100001"):n===ne.noHint?l.a.createElement(oe,{onClick:t},"Aks computer nicely"):l.a.createElement("p",null,"Well, the flag that you have entered might be correct but there's no way of verifying it. We, unlike computers, only speak decimal.So can you please present the flag in a way that we understand?"," ")},me=function(e){var n,t=e.id,a=e.body,c=_(),o=Object(r.useState)(""),s=Object(F.a)(o,2),u=(s[0],s[1],Object(D.g)()),m=Object(r.useState)(ne.noHint),b=Object(F.a)(m,2),d=b[0],g=b[1],h=Object(i.c)(x);n=1===t?l.a.createElement("div",null,l.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}}),l.a.createElement(pe,{hintState:d,onClick:function(e){e.preventDefault(),d===ne.noHint&&g(ne.showFlag)}})):l.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}});var f=function(e){return null!==h&&null!==h[e-1].challengeAnswer?h[e-1].challengeAnswer:" "};return l.a.createElement("div",{className:"challengeBody"},n,l.a.createElement("div",{className:"btnSmallOuter"},l.a.createElement(ce,{label:"Flag:",autoFocus:!0,name:"userAnswer",input_type:"text",autoComplete:"flag",placeholder:"Flag",value:f(t),onChange:function(e){var n={id:t,challengeAnswer:e.target.value};c(A(n))},required:!0}),l.a.createElement(se,{onClick:function(e){(e.preventDefault(),le(f(t)))?alert("can't be empty"):ue.test(f(t).trim())?1===t&&ue.test(f(t).trim())&&g(ne.showBinToDecHint):function(e){return fetch(p.CHECK_RESPONSE,{method:"post",credentials:"include",headers:{"Content-type":"application/json; charset=UTF-8"},body:e})}(JSON.stringify({id:t,userAnswer:f(t)})).then((function(e){200===e.status?e.json().then((function(e){!0===e.isCorrect?c(I(t)):alert("wrong answer")})):403===e.status&&e.json().then((function(e){alert(e.error),u.push("/logout")}))}))}},"submit")))},be=function(e){var n,t=e.activeID,a=e.onClick,r=Object(i.c)(x);return n=null!==r?r.map((function(e){var n="ctitle";!0===e.hasAnswered&&(n+=" correct");var r=" ";return e.id===t&&(r="active"),l.a.createElement("li",{key:e.id,id:r,className:n,onClick:function(e){function n(){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(){return a(e.id)}))}," ",e.challengeTitle," (",e.score,")")})):l.a.createElement("div",null),l.a.createElement("ul",{id:"challenges"}," ",n," ")},de=function(e){var n=e.children;return l.a.createElement("div",{className:"contentcolumned"},n)},ge=function(e){var n=e.children;return l.a.createElement("div",{className:"menuoptions menusidebar"},n)},he=function(e){var n=e.children;return l.a.createElement("div",{className:"menusidebarbody menuoptions"},n)},fe=function(){_();var e,n=Object(i.c)(x),t=Object(i.c)(v),c=Object(r.useState)(1),o=Object(F.a)(c,2),s=o[0],u=o[1];e=null!==n?n[0].challengeBody:"<p> Loading...</p>";var p=Object(r.useState)(e),m=Object(F.a)(p,2),b=m[0],d=m[1];console.log(b);return t===a.challengeReady?l.a.createElement(te,{size:K.big,menuTitle:"Challenges",topText:"Solve these challges to find flags. Flags will be in the form nCTF{secret-goes-in-here}",pageTitle:"Challenges"},l.a.createElement(de,null,l.a.createElement(ge,null,l.a.createElement(be,{onClick:function(e){u(e),function(e){null!==n&&n.forEach((function(n){n.id===e&&d(n.challengeBody)}))}(e)},activeID:s})),l.a.createElement(he,null,l.a.createElement(me,{body:b,id:s}))),l.a.createElement("br",null),"Score: ",function(){var e=0;return null!==n&&n.map((function(n){!0===n.hasAnswered&&(e+=n.score)})),e}()):l.a.createElement(D.a,{to:"/"})},Ee=function(){var e=Object(i.c)(v);switch(localStorage.setItem("kladmdf;lkdmkfmslkdmkl;smdkfmkfsd","nCTF{zlZ6QPh97sg16ds856RK0DIK1waNJwy}"),e){case a.loggedIn:return l.a.createElement(D.a,{to:"/loading"});case a.challengeReady:return l.a.createElement(D.a,{to:"/challenges"});case a.loggedOut:return l.a.createElement(D.a,{to:"/login"});case a.timerOver:case a.tooEarly:return l.a.createElement(D.a,{to:"/logout"})}},ve=function(){return fetch(p.LOGOUT,{credentials:"include"}).then((function(e){return e.json()}))},ye=function(){var e=Object(i.c)(v),n=_();return e===a.challengeReady&&(n(f()),ve()),l.a.createElement(D.a,{to:"/login"})},Oe=function(e){e.completed;for(var n={height:"100%",width:"10%",border:"0.1px solid",borderColor:"#fff",textAlign:"right"},t=[],a=0;a<30;a++)t.push(a);var r=t.map((function(e){return l.a.createElement("div",{style:n})}));return l.a.createElement("div",{style:{height:13,width:"100%",display:"flex"}},r)},Te=function(){return l.a.createElement(te,{size:K.loading,menuTitle:"Loading",topText:"",pageTitle:"Loading"},l.a.createElement(Oe,{completed:100}))},we=function(){return l.a.createElement(D.d,null,l.a.createElement(D.b,{component:fe,path:"/challenges"}),l.a.createElement(D.b,{component:ie,path:"/login"}),l.a.createElement(D.b,{component:ye,path:"/logout"}),l.a.createElement(D.b,{component:Te,exact:!0,path:"/loading"}),l.a.createElement(D.b,{component:Ee,exact:!0,path:"/"}))},je=function(){var e=_(),n=Object(i.c)(x);Object(i.c)(v);return null===n&&fetch("/api/get-challenges",{credentials:"include"}).then((function(e){return e.json()})).then((function(n){return e(k(n))})),window.matchMedia("(max-width: 1000px)").matches?l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"container"},l.a.createElement(ae,null))):l.a.createElement("div",{className:"App"},l.a.createElement(W,null),l.a.createElement(z,null),l.a.createElement("div",{className:"container"},l.a.createElement(we,null)),"// End of container div")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));R.subscribe((function(){return function(e){try{var n=JSON.stringify(e);localStorage.setItem("state",n)}catch(t){console.log("error from saveState: ".concat(t))}}(R.getState())})),R.dispatch((function(e){return fetch(p.GET_STATE,{method:"get",credentials:"include"}).then((function(e){return e.json()})).then((function(n){200===n.status&&e(h())}))})),o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.a,null,l.a.createElement(i.a,{store:R},l.a.createElement(je,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.c90dc498.chunk.js.map